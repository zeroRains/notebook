<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>竞赛中常用的C++黑魔法 | 唤雨考拉的笔记本</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="对于唤雨考拉来说，这是一个百宝箱，但对于其他人来说，可能是一本用处不大的笔记本。">
    <meta name="keywords" content="notebook,Therainisme,Algorithm,题解,算法,编程,学习笔记">
    <meta name="google-site-verification" content="lIhR5J6yRQNU2obnE35OxMfrUxOj7VjwjNbVE0gh7sk">
    
    <link rel="preload" href="/assets/css/0.styles.178865d8.css" as="style"><link rel="preload" href="/assets/js/app.4889c26f.js" as="script"><link rel="preload" href="/assets/js/2.c8f86a47.js" as="script"><link rel="preload" href="/assets/js/15.caca657d.js" as="script"><link rel="prefetch" href="/assets/js/10.0cb205b4.js"><link rel="prefetch" href="/assets/js/11.2521538e.js"><link rel="prefetch" href="/assets/js/12.53645fe6.js"><link rel="prefetch" href="/assets/js/13.4fca99b3.js"><link rel="prefetch" href="/assets/js/14.d3196a6b.js"><link rel="prefetch" href="/assets/js/16.cf1bd535.js"><link rel="prefetch" href="/assets/js/17.17dbe213.js"><link rel="prefetch" href="/assets/js/18.fda67c1e.js"><link rel="prefetch" href="/assets/js/19.9e8e53fd.js"><link rel="prefetch" href="/assets/js/20.ac1c1e11.js"><link rel="prefetch" href="/assets/js/21.2b8728b2.js"><link rel="prefetch" href="/assets/js/22.45386a1c.js"><link rel="prefetch" href="/assets/js/23.b9bc431b.js"><link rel="prefetch" href="/assets/js/24.6f31343d.js"><link rel="prefetch" href="/assets/js/25.b760565d.js"><link rel="prefetch" href="/assets/js/26.12c830b6.js"><link rel="prefetch" href="/assets/js/27.7a9843c3.js"><link rel="prefetch" href="/assets/js/28.bbd7dbfd.js"><link rel="prefetch" href="/assets/js/29.d790cd13.js"><link rel="prefetch" href="/assets/js/3.92eb0ca5.js"><link rel="prefetch" href="/assets/js/30.b12d9d2f.js"><link rel="prefetch" href="/assets/js/31.c3af1013.js"><link rel="prefetch" href="/assets/js/4.6cdfaed7.js"><link rel="prefetch" href="/assets/js/5.e1a78ea5.js"><link rel="prefetch" href="/assets/js/6.41d4f01a.js"><link rel="prefetch" href="/assets/js/7.14960a92.js"><link rel="prefetch" href="/assets/js/8.cd821ce9.js"><link rel="prefetch" href="/assets/js/9.07b507b6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.178865d8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">唤雨考拉的笔记本</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="理论技术" class="dropdown-title"><span class="title">理论技术</span> <span class="arrow down"></span></button> <button type="button" aria-label="理论技术" class="mobile-dropdown-title"><span class="title">理论技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/code-snippets/index.html" class="nav-link">
  代码片段
</a></li><li class="dropdown-item"><!----> <a href="/database/[1]绪论.html" class="nav-link">
  数据库系统概论
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="划水技术" class="dropdown-title"><span class="title">划水技术</span> <span class="arrow down"></span></button> <button type="button" aria-label="划水技术" class="mobile-dropdown-title"><span class="title">划水技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/algorithm/[99]竞赛中常用的C++黑魔法.html" class="nav-link">
  算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="废纸篓" class="dropdown-title"><span class="title">废纸篓</span> <span class="arrow down"></span></button> <button type="button" aria-label="废纸篓" class="mobile-dropdown-title"><span class="title">废纸篓</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/waste-paper/[1]java.html" class="nav-link">
  Java
</a></li></ul></div></div> <a href="https://github.com/Therainisme/Notebook" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="理论技术" class="dropdown-title"><span class="title">理论技术</span> <span class="arrow down"></span></button> <button type="button" aria-label="理论技术" class="mobile-dropdown-title"><span class="title">理论技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/code-snippets/index.html" class="nav-link">
  代码片段
</a></li><li class="dropdown-item"><!----> <a href="/database/[1]绪论.html" class="nav-link">
  数据库系统概论
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="划水技术" class="dropdown-title"><span class="title">划水技术</span> <span class="arrow down"></span></button> <button type="button" aria-label="划水技术" class="mobile-dropdown-title"><span class="title">划水技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/algorithm/[99]竞赛中常用的C++黑魔法.html" class="nav-link">
  算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="废纸篓" class="dropdown-title"><span class="title">废纸篓</span> <span class="arrow down"></span></button> <button type="button" aria-label="废纸篓" class="mobile-dropdown-title"><span class="title">废纸篓</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/waste-paper/[1]java.html" class="nav-link">
  Java
</a></li></ul></div></div> <a href="https://github.com/Therainisme/Notebook" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/algorithm/[3]搜索与图论.html" class="sidebar-link">图论</a></li><li><a href="/algorithm/[4]树.html" class="sidebar-link">树</a></li><li><a href="/algorithm/[5]数论.html" class="sidebar-link">数论</a></li><li><a href="/algorithm/[6]动态规划.html" class="sidebar-link">动态规划</a></li><li><a href="/algorithm/[99]竞赛中常用的C++黑魔法.html" class="active sidebar-link">竞赛中常用的C++黑魔法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/algorithm/[99]竞赛中常用的C++黑魔法.html#动态数组-vector" class="sidebar-link">动态数组 vector</a></li><li class="sidebar-sub-header"><a href="/algorithm/[99]竞赛中常用的C++黑魔法.html#栈-stack" class="sidebar-link">栈 stack</a></li><li class="sidebar-sub-header"><a href="/algorithm/[99]竞赛中常用的C++黑魔法.html#单向队列-queue" class="sidebar-link">单向队列 queue</a></li><li class="sidebar-sub-header"><a href="/algorithm/[99]竞赛中常用的C++黑魔法.html#集合-set" class="sidebar-link">集合 set</a></li><li class="sidebar-sub-header"><a href="/algorithm/[99]竞赛中常用的C++黑魔法.html#映射-map" class="sidebar-link">映射 map</a></li><li class="sidebar-sub-header"><a href="/algorithm/[99]竞赛中常用的C++黑魔法.html#优先队列-priority-queue" class="sidebar-link">优先队列 priority_queue</a></li><li class="sidebar-sub-header"><a href="/algorithm/[99]竞赛中常用的C++黑魔法.html#迭代器-iterator" class="sidebar-link">迭代器 iterator</a></li><li class="sidebar-sub-header"><a href="/algorithm/[99]竞赛中常用的C++黑魔法.html#排序-sort" class="sidebar-link">排序 sort()</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/algorithm/[99]竞赛中常用的C++黑魔法.html#普通用法" class="sidebar-link">普通用法</a></li><li class="sidebar-sub-header"><a href="/algorithm/[99]竞赛中常用的C++黑魔法.html#配合操作符重载" class="sidebar-link">配合操作符重载</a></li><li class="sidebar-sub-header"><a href="/algorithm/[99]竞赛中常用的C++黑魔法.html#传入回调函数" class="sidebar-link">传入回调函数</a></li></ul></li><li class="sidebar-sub-header"><a href="/algorithm/[99]竞赛中常用的C++黑魔法.html#字符串-string" class="sidebar-link">字符串 string</a></li></ul></li><li><a href="/algorithm/[100]2021蓝桥杯CB第一场省赛.html" class="sidebar-link">第十二届蓝桥杯C++B组第一场省赛</a></li><li><a href="/algorithm/[101]2021GPLT团体天梯赛.html" class="sidebar-link">2021GPLT团体天梯赛</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="竞赛中常用的c-黑魔法"><a href="#竞赛中常用的c-黑魔法" class="header-anchor">#</a> 竞赛中常用的C++黑魔法</h1> <h2 id="动态数组-vector"><a href="#动态数组-vector" class="header-anchor">#</a> 动态数组 vector</h2> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v<span class="token punctuation">;</span>            <span class="token comment">// 声明</span>

v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// 在尾部插入一个元素</span>
<span class="token keyword">int</span> n <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// 返回数组个数</span>
v<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// 清空vector</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="栈-stack"><a href="#栈-stack" class="header-anchor">#</a> 栈 stack</h2> <p>先进后出的数据结构</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>stack<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> s<span class="token punctuation">;</span>             <span class="token comment">// 声明</span>

s<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// x入栈</span>
<span class="token keyword">int</span> t <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// 获取栈顶元素</span>
s<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">// 弹出栈顶元素</span>
<span class="token keyword">bool</span> b <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 判断栈空</span>
<span class="token keyword">int</span> n <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// 返回栈元素个数</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="单向队列-queue"><a href="#单向队列-queue" class="header-anchor">#</a> 单向队列 queue</h2> <p>先进先出的数据结构</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> q<span class="token punctuation">;</span>             <span class="token comment">// 声明</span>

q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// x入队</span>
q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">// 队头元素出队</span>
<span class="token keyword">int</span> f <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 返回队头元素</span>
<span class="token keyword">int</span> e <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// 返回队尾元素</span>
<span class="token keyword">bool</span> b <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 判断队空</span>
<span class="token keyword">int</span> n <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// 返回队列元素个数</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="集合-set"><a href="#集合-set" class="header-anchor">#</a> 集合 set</h2> <p>集合中不会存在重复元素，它支持高效的插入、删除和查询操作，复杂度均是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(logn)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>。它是关联容器的一种，是排序好的集合。</p> <p>不能直接修改 <code>set</code> 容器中元素的值。因为元素被修改后，容器并不会自动重新调整顺序，于是容器的有序性就会被破坏。</p> <p>改 <code>set</code> 容器中某个元素的值，正确的做法是先删除该元素，再插入新元素。</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> s<span class="token punctuation">;</span>               <span class="token comment">// 声明</span>

<span class="token keyword">int</span> b <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// 返回set的第一个元素，（成为 迭代器or指针）</span>
<span class="token keyword">int</span> e <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// 同上，需要-&gt;访问</span>
s<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// 清空</span>
<span class="token keyword">bool</span> e <span class="token operator">=</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// 判断set是否为空</span>
s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">// 插入元素x</span>
s<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">// 删除一个元素x</span>
it <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// 查找元素x,返回迭代器。未找到返回s.end()</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="映射-map"><a href="#映射-map" class="header-anchor">#</a> 映射 map</h2> <p>从一个元素映射到另一个元素的数据结构。<code>&lt;key, value&gt;</code>。内部是红黑树，在插入元素时会自动排序</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> map<span class="token punctuation">;</span>      <span class="token comment">// 声明</span>

map<span class="token punctuation">[</span><span class="token string">&quot;hello word&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>     <span class="token comment">// 可以像数组一样访问</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>      <span class="token comment">// 可以判断是否存在映射</span>
map<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">// 清空</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="优先队列-priority-queue"><a href="#优先队列-priority-queue" class="header-anchor">#</a> 优先队列 priority_queue</h2> <p>实质就是二叉堆，使用该模版可以快速实现小根堆、大根堆。插入、删除、查询的时间复杂度均是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(logn)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>。</p> <p>大多数方法与queue相同，默认声明的是小根堆</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>priority_queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> q<span class="token punctuation">;</span>     <span class="token comment">//默认声明的是小根堆</span>

<span class="token comment">// 声明一个大根堆，cmp是自定义比较函数</span>
strcut cmp <span class="token punctuation">{</span>
    <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">&gt;</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

priority_queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> cmp<span class="token operator">&gt;</span> q<span class="token punctuation">;</span>

<span class="token comment">// 大根堆也可以这么写</span>
priority_queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> greater<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> heap<span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="迭代器-iterator"><a href="#迭代器-iterator" class="header-anchor">#</a> 迭代器 iterator</h2> <p>可以用于迭代上述容器，一般使用方法</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> m<span class="token punctuation">;</span>
map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">::</span>iterator it<span class="token punctuation">;</span>

<span class="token comment">// 顺序遍历，rbegin()就是逆序遍历</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>it <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> m<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//it类指针用法</span>
<span class="token punctuation">}</span>

<span class="token comment">// c11的新特性auto，蓝桥杯不推荐使用auto关键字。官方的对c11的解释一直是个迷。</span>
<span class="token comment">// 正常的写法应该把类型加上</span>
<span class="token comment">// 假设s是一个string类型的字符串，那么for(char c : s) {...}</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> a <span class="token operator">:</span> m<span class="token punctuation">)</span><span class="token punctuation">{</span>
    cout<span class="token operator">&lt;&lt;</span>a<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span>a<span class="token punctuation">.</span><span class="token function">second</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="排序-sort"><a href="#排序-sort" class="header-anchor">#</a> 排序 sort()</h2> <h3 id="普通用法"><a href="#普通用法" class="header-anchor">#</a> 普通用法</h3> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>vector<span class="token operator">:</span>   <span class="token function">sort</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">:</span>  <span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> a <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="配合操作符重载"><a href="#配合操作符重载" class="header-anchor">#</a> 配合操作符重载</h3> <p>对结构体数组进行排序，一般用在邻接表的排序，比如<code>Kruskal</code></p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">struct</span> <span class="token class-name">Edge</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> w<span class="token punctuation">;</span>
    <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">const</span> Edge <span class="token operator">&amp;</span>E<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> w <span class="token operator">&lt;</span> E<span class="token punctuation">.</span>w<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>edges<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// ......</span>

<span class="token function">sort</span><span class="token punctuation">(</span>edges<span class="token punctuation">,</span> edges <span class="token operator">+</span> m<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="传入回调函数"><a href="#传入回调函数" class="header-anchor">#</a> 传入回调函数</h3> <p>同样是邻接表排序的另外一种形式</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">struct</span> <span class="token class-name">Edge</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> w<span class="token punctuation">;</span>
<span class="token punctuation">}</span>edges<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">bool</span> <span class="token function">cmp</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">Edge</span> a<span class="token punctuation">,</span> <span class="token keyword">struct</span> <span class="token class-name">Edge</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token punctuation">.</span>w <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>w<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ......</span>

<span class="token function">sort</span><span class="token punctuation">(</span>edges<span class="token punctuation">,</span> edges <span class="token operator">+</span> m<span class="token punctuation">,</span> cmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="字符串-string"><a href="#字符串-string" class="header-anchor">#</a> 字符串 string</h2> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>s<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// 向尾部追加一个字符</span>
<span class="token keyword">char</span> c <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// 获取尾部的字符</span>
<span class="token keyword">char</span> c <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span>         <span class="token comment">// 获取头部的字符</span>
s<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">// 弹出尾部的字符</span>

<span class="token comment">// 翻转字符串</span>
s<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 排序</span>
<span class="token function">sort</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  

s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token string">&quot;a string&quot;</span><span class="token punctuation">)</span>    <span class="token comment">// 向下标p之后插入一个字符串</span>

s<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">// 从p开始删除n个字符</span>
s<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// 删除p位置上的字符</span>
s<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>first<span class="token punctuation">,</span> last<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 删除first到last之间的字符，它俩都是迭代器</span>

s<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 从a开始获取b个字符</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Therainisme/Notebook/edit/main/docs/algorithm/[99]竞赛中常用的C++黑魔法.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页 ！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新时间:</span> <span class="time">5/5/2021, 3:15:11 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/algorithm/[6]动态规划.html" class="prev">
        动态规划
      </a></span> <span class="next"><a href="/algorithm/[100]2021蓝桥杯CB第一场省赛.html">
        第十二届蓝桥杯C++B组第一场省赛
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.4889c26f.js" defer></script><script src="/assets/js/2.c8f86a47.js" defer></script><script src="/assets/js/15.caca657d.js" defer></script>
  </body>
</html>
